# Lab 02 Slicer#2: Data formats, importing data from MorphoSource, saving
* **image stacks vs volume files** We prefer to import the image sequences and save them as 3D volume to the convenience of working with single files. The primary reason for that, except for DICOM format, most 2D image format are not well-suited to preserve the geometry and resolution information of volumetric scans. That means, if you import and image sequence into Slicer/SlicerMorph, and not save it in a 3D volume format, next time you want to work on the same dataset you will have to redo the import steps. Therefore, we suggest the first step in your workflow immediate after importing your data is to save it in a volumetric format (see below).  

Additionally 3D Slicer would treat certain types of image sequences (namely JPG, PNG and BMO formats) as multichannel images, not scalar volumes. This creates additional complication and triples the memory requirement importing these data formats. Therefore, we developed a SlicerMorph specific module called **ImageStacks** to import these generic non-DICOM sequences. There is another SlicerMorph specific module called **SkyscanReconImport** which works solely for image sequences generated by the Bruker/SkyScan microCTs. 

In this lab we will review how to import non-DICOM stacks using both modules. (NOTE: If you are curious how these import functions compare to generic method offered by 3D Slicer you can review the previous iteration of this lab that used the generic functionality here https://github.com/SlicerMorph/S_2019/blob/master/Lab03_Slicer_2_data_formats_input_output/README.md#image-import-examples). 

## Two well-documented, and commonly supported image volume formats are:
* [Nearly Raw Raster Data: NRRD](http://teem.sourceforge.net/nrrd/format.html) Slicer's default volume format. 
* [Neuroimaging Informatics Technology Initiative: Nifti](https://nifti.nimh.nih.gov/)

* [List of image formats supported by Slicer](https://www.slicer.org/wiki/Documentation/Nightly/SlicerApplication/SupportedDataFormat)
* [pixel coordinates vs physical coordinates](https://www.slicer.org/wiki/Coordinate_systems)

## Image Import Examples
* **Import non-DICOM image sequences**
Go to the **Sample Data** module of SlicerMorph, scroll down to find the 
* **Import a DICOM image Sequence**
From the sample data on your computer that you downloaded prior to the workshop (Gorilla_Skulls), locate this folder:
**Gorilla_Skulls/DICOM_samples/Smithsonian_Gorilla_Skull.zip** and unzip the sample DICOM sequence to convenient location on your computer (e.g., Desktop)


* **Obtaining sample data from MorphoSource.**### 
 ### 3D models
  * Go to https://www.morphosource.org/Detail/MediaDetail/Show/media_id/2095
  * Add the calcaneus **M2095-1895** to your cart (you should have an account on MorphoSource)
  * Agree to the terms and download. You should get a file called *Morphosource_amnh_mammals_m-188156_M2095-1895.zip*
  * Drag and drop that file to Slicer and answer the question about zip file contents as YES
  * In the Data dialog box, uncheck the ...USerAgreement.pdf (shows as a scalar overlay), and keep the other two checked
  * Hit OK
### Image sequences from MorphoSource.
 While you can technically import the image sequences from MorphoSource exactly like the 3D model example shown before, due to the size of this zip files, we do not suggest it. This the suggested procedure:
 1. Unzip the zip file that you downloaded from MorphoSource to convenient location on your computer (e.g., Desktop). 
 2. Load the CSV file into SlicerMorph. From there you can locate the voxel spacing information.
 3. Use the ImageStacks module to import the volume and use the voxel spacing reported in the CSV file.
 
  * Switch to `3D Table` view in the layout options
  * Enable the MorphoSource data table from Data Module
  
 ## Work on your own. 
 * Alligator skull from sample data 
 
  
